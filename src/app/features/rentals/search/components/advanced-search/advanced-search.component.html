<h2 mat-dialog-title>
    <mat-icon>tune</mat-icon> Filtres Avancés
</h2>

<mat-dialog-content>
    <div class="sections-container">

        <!-- SECTION 1: WORK -->
        <section class="filter-section work-section">
            <div class="section-header">
                <mat-icon class="section-icon">rocket_launch</mat-icon>
                <div>
                    <h3>Performance & Télétravail</h3>
                    <p class="subtitle">Pour les pros : connexion garantie et confort.</p>
                </div>
            </div>

            <div class="controls-grid">
                <div class="slider-control">
                    <label>Download Min ({{minDownloadSpeed}} Mbps)</label>
                    <mat-slider min="0" max="1000" step="50" showTickMarks discrete [displayWith]="formatSpeedLabel">
                        <input matSliderThumb [(ngModel)]="minDownloadSpeed">
                    </mat-slider>
                </div>
                <div class="slider-control">
                    <label>Upload Min ({{minUploadSpeed}} Mbps)</label>
                    <mat-slider min="0" max="500" step="10" showTickMarks discrete [displayWith]="formatSpeedLabel">
                        <input matSliderThumb [(ngModel)]="minUploadSpeed">
                    </mat-slider>
                </div>
            </div>

            <div class="toggles-row">
                <mat-slide-toggle [(ngModel)]="hasErgonomicChair" color="primary">
                    Chaise Ergonomique
                </mat-slide-toggle>
            </div>
        </section>

        <mat-divider></mat-divider>

        <!-- SECTION 2: FAMILY -->
        <section class="filter-section family-section">
            <div class="section-header">
                <mat-icon class="section-icon">family_restroom</mat-icon>
                <div>
                    <h3>Famille & Confort</h3>
                    <p class="subtitle">L'essentiel pour les enfants et le groupe.</p>
                </div>
            </div>
            <div class="toggles-grid">
                <mat-slide-toggle [(ngModel)]="hasCrib" color="primary">Lit Bébé</mat-slide-toggle>
                <mat-slide-toggle [(ngModel)]="hasBathtub" color="primary">Baignoire</mat-slide-toggle>
                <mat-slide-toggle [(ngModel)]="hasKitchen" color="primary">Cuisine Équipée</mat-slide-toggle>
            </div>
        </section>

        <mat-divider></mat-divider>

        <!-- SECTION 3: QUIET -->
        <section class="filter-section quiet-section">
            <div class="section-header">
                <mat-icon class="section-icon">nightlight_round</mat-icon>
                <div>
                    <h3>Silence & Sérénité</h3>
                    <p class="subtitle">Garanti par nos capteurs sonores.</p>
                </div>
            </div>
            <div class="toggles-grid">
                <mat-slide-toggle [(ngModel)]="isQuietZone" color="warn">
                    Zone "Silence Absolu"
                </mat-slide-toggle>
                <mat-slide-toggle [(ngModel)]="minSoundproofingRating" [checked]="minSoundproofingRating >= 4"
                    (change)="minSoundproofingRating = $event.checked ? 4 : 0" color="primary">
                    Isolation 4★+
                </mat-slide-toggle>
            </div>
        </section>

        <mat-divider></mat-divider>

        <!-- SECTION 4: DEALS -->
        <section class="filter-section deals-section">
            <div class="section-header">
                <mat-icon class="section-icon">savings</mat-icon>
                <div>
                    <h3>Offres Spéciales</h3>
                    <p class="subtitle">Optimisez votre budget.</p>
                </div>
            </div>
            <div class="toggles-grid">
                <mat-slide-toggle [(ngModel)]="wantsLongTermDeal" color="accent">
                    Longue Durée (-30%)
                </mat-slide-toggle>
                <mat-slide-toggle [(ngModel)]="wantsSeasonalOffer" color="accent">
                    Offre Saisonnière
                </mat-slide-toggle>
            </div>
        </section>

    </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Annuler</button>
    <button mat-raised-button color="primary" (click)="applyFilters()">
        <mat-icon>check</mat-icon> Appliquer les filtres
    </button>
</mat-dialog-actions>